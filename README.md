# 量化交易智能体 (Quant Trading Agent)

一个模块化、可扩展的量化交易智能体系统，支持多策略协同、风险管理、回测验证和模拟交易。

## 系统架构

```
┌─────────────────────────────────────────────────────┐
│                  Trading Agent (智能体核心)            │
│  ┌───────────┐  ┌──────────┐  ┌──────────────────┐  │
│  │ 信号融合   │  │ 决策引擎  │  │  多策略协调器     │  │
│  └───────────┘  └──────────┘  └──────────────────┘  │
├─────────────────────────────────────────────────────┤
│                                                     │
│  ┌──────────┐  ┌──────────┐  ┌──────────────────┐  │
│  │ 数据模块  │  │ 策略模块  │  │   风控模块        │  │
│  │          │  │          │  │                  │  │
│  │ • 行情获取│  │ • MA交叉  │  │ • 仓位管理       │  │
│  │ • 技术指标│  │ • RSI    │  │ • 止损止盈       │  │
│  │ • 数据清洗│  │ • MACD   │  │ • 最大回撤控制   │  │
│  └──────────┘  └──────────┘  └──────────────────┘  │
│                                                     │
│  ┌──────────┐  ┌──────────┐  ┌──────────────────┐  │
│  │ 执行模块  │  │ 回测引擎  │  │   组合管理        │  │
│  │          │  │          │  │                  │  │
│  │ • 订单管理│  │ • 历史回测│  │ • 资产配置       │  │
│  │ • 模拟执行│  │ • 绩效分析│  │ • 组合优化       │  │
│  │ • 滑点模拟│  │ • 风险指标│  │ • 再平衡         │  │
│  └──────────┘  └──────────┘  └──────────────────┘  │
└─────────────────────────────────────────────────────┘
```

## 项目结构

```
quant_agent/
├── core/           # 核心智能体和交易引擎
│   ├── agent.py    # 交易智能体 - 信号融合与决策
│   └── engine.py   # 交易引擎 - 事件驱动执行
├── data/           # 数据获取与处理
│   ├── market_data.py   # 市场数据获取
│   └── indicators.py    # 技术指标计算
├── strategies/     # 交易策略
│   ├── base.py          # 策略基类
│   ├── ma_crossover.py  # 均线交叉策略
│   ├── rsi_strategy.py  # RSI策略
│   └── macd_strategy.py # MACD策略
├── risk/           # 风险管理
│   └── risk_manager.py  # 风控管理器
├── portfolio/      # 投资组合管理
│   └── portfolio.py     # 组合管理与优化
├── execution/      # 订单执行
│   └── executor.py      # 订单执行器
├── backtest/       # 回测引擎
│   └── backtester.py    # 回测框架
└── utils/          # 工具函数
    └── logger.py        # 日志管理
```

## 快速开始

### 安装依赖

```bash
pip install -r requirements.txt
```

### 运行回测示例

```bash
python -m examples.run_backtest
```

### 运行测试

```bash
python -m pytest tests/ -v
```

## 核心特性

- **多策略协同**: 支持 MA交叉、RSI、MACD 等多种策略，通过信号融合机制综合决策
- **智能风控**: 动态仓位管理、止损止盈、最大回撤控制、单日亏损限制
- **回测引擎**: 支持历史数据回测，生成详细绩效报告（夏普比率、最大回撤、胜率等）
- **模块化设计**: 各模块独立可替换，易于扩展新策略和新数据源
- **事件驱动**: 基于事件驱动架构，支持实时和回测两种模式

## 策略说明

| 策略 | 原理 | 适用场景 |
|------|------|---------|
| MA交叉 | 短期均线上穿/下穿长期均线 | 趋势行情 |
| RSI | 相对强弱指标超买超卖 | 震荡行情 |
| MACD | MACD柱状图与信号线交叉 | 趋势确认 |

## License

MIT License
